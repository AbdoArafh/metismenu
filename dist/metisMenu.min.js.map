{"version":3,"sources":["../src/util.js","../src/index.js"],"names":["Util","TRANSITION_END","EVENT_PREFIX","triggerTransitionEnd","element","$","trigger","supportsTransitionEnd","Boolean","compareStrings","a","b","undefined","toLowerCase","flattenArray","arr","flatArray","Array","from","i","length","push","handleNonArrays","elements","matcher","query","exec","isMatching","el","tagName","id","className","this","classList","contains","isMatchingCriteria","criteria","HTMLElement","parent","map","parentElement","filter","parents","parentNodes","forEach","current","siblings","children","find","querySelectorAll","hasClass","classNames","split","some","every","addClass","c","add","removeClass","remove","not","attr","key","value","getAttribute","setAttribute","has","onEvent","event","handler","once","eventType","addEventListener","on","one","off","removeEventListener","data","target","dataKey","dataValue","dataset","removeData","Object","keys","height","newHeight","style","Number","window","getComputedStyle","match","css","rule","Error","DATA_KEY","Default","toggle","preventDefault","triggerElement","parentTrigger","subMenu","Event","SHOW","SHOWN","HIDE","HIDDEN","CLICK_DATA_API","ClassName","MetisMenu","constructor","config","transitioning","init","self","conf","ActiveEl","e","eTar","paRent","sibLi","sibTrigger","removeActive","setActive","onTransitionStart","li","ul","show","hide","elem","toggleElem","setTransitioning","scrollHeight","complete","onTransitionEnd","isTransitioning","dispose","static","each","$this"],"mappings":"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","sourcesContent":["const Util = { // eslint-disable-line no-shadow\n  TRANSITION_END: 'mmTransitionEnd',\n\n  EVENT_PREFIX: \"mm-\",\n\n  \n  triggerTransitionEnd(element) {\n    $(element).trigger(TRANSITION_END);\n  },\n  \n  supportsTransitionEnd() {\n    return Boolean(TRANSITION_END);\n  },\n  \n  // todo for later\n\n  // emulateTransitionEnd(duration) {\n  //   let called = false;\n\n  //   $(this).one(Util.TRANSITION_END, () => {\n  //     called = true;\n  //   });\n\n  //   setTimeout(() => {\n  //     if (!called) {\n  //       Util.triggerTransitionEnd(this);\n  //     }\n  //   }, duration);\n\n  //   return this;\n  // },\n\n  compareStrings(a, b) {\n    if (a === undefined) return false;\n    return a.toLowerCase() === b.toLowerCase();\n  },\n\n  flattenArray(arr) {\n    const flatArray = [];\n    arr = Array.from(arr);\n    for (let i = 0; i < arr.length; i++) {\n      flatArray.push(...Array.from(arr[i]));\n    }\n    return flatArray;\n  },\n\n  handleNonArrays(elements) {\n    if (!(elements instanceof Array)) {\n      if (elements.length)\n        return Array.from(elements);\n      else\n        return [elements]\n    }\n    return elements\n  },\n\n  matcher(query) {\n    const matcher = /(\\*|\\w+)?(?:#(\\w+))*(?:\\.([A-Za-z\\-]+))*/;\n    const matches = matcher.exec(query);\n    return matches;\n  },\n\n  isMatching(el, tagName, id, className) {\n    // TODO find another solution\n    // let isMatching = this.compareStrings(el.tagName, tagName);\n    let isMatching;\n    if (tagName && tagName !== \"*\")\n      isMatching = this.compareStrings(el.tagName, tagName);\n    else\n      isMatching = true;\n    if (id && isMatching)\n      isMatching = el.id === id;\n    if (className && isMatching)\n      isMatching = el.classList.contains(className);\n    return isMatching;\n  },\n\n  isMatchingCriteria(element, criteria) {\n    if (criteria instanceof HTMLElement) {\n      return element === criteria;\n    }\n    if (typeof criteria === \"string\") {\n      const [, tagName, id, className] = this.matcher(criteria);\n      return this.isMatching(element, tagName, id, className);\n    }\n    return false;\n  },\n\n  parent(elements, criteria) {\n    elements = this.handleNonArrays(elements);\n\n    if (!criteria) {\n      return elements.map(element => element.parentElement)\n    }\n\n    return elements.map(\n      element => {\n        if (this.isMatchingCriteria(element.parentElement, criteria))\n          return element.parentElement\n      }\n    ).filter(el => el);\n  },\n\n  parents(elements, tagName) {\n    const parentNodes = [];\n    elements = this.handleNonArrays(elements);\n    elements.forEach(element => {\n      for (let current = element; current.parentElement; current = current.parentElement) {\n        parentNodes.push(current.parentElement);\n      }\n    });\n    return parentNodes.filter((el) => this.compareStrings(el.tagName, tagName));\n  },\n\n  siblings(elements, criteria) {\n    elements = this.handleNonArrays(elements);\n    \n    if (!criteria) {\n      return this.flattenArray(\n        elements.map(\n          element => Array.from(element.parentElement.children).filter(el => el !== element)\n        )\n      );\n    }\n\n    return this.flattenArray(\n      elements.map(\n        element => Array\n          .from(element.parentElement.children)\n          .filter(el => el !== element)\n          .filter(el => this.isMatchingCriteria(el, criteria))\n      )\n    );\n  },\n\n  children(elements, query) {\n    // matches the query to capture tagName\n    // and other properties from it\n    \n    const [, tagName, id, className] = this.matcher(query);\n\n    elements = this.handleNonArrays(elements);\n\n    return this.flattenArray(\n      Array.from(elements).map(element => element.children)\n      )\n      .filter(el => this.isMatching(el, tagName, id, className));\n  },\n\n  find(elements, query=\"*\") {\n    elements = this.handleNonArrays(elements);\n    return this.flattenArray(\n      Array.from(elements).map(element => (\n        Array.from(element.querySelectorAll(query))\n      ))\n    );\n  },\n\n  hasClass(elements, classNames) {\n    elements = this.handleNonArrays(elements);\n    classNames = classNames.split(\" \");\n    return elements.some(\n      el =>\n        classNames.every(\n          className =>\n            el.classList.contains(className)\n        )\n    );\n  },\n\n  addClass(elements, classNames) {\n    elements = this.handleNonArrays(elements);\n    elements.forEach(el => {\n      const classes = classNames.split(\" \");\n      classes.forEach(c => el.classList.add(c));\n    });\n  },\n\n  removeClass(elements, classNames) {\n    classNames = classNames.split(\" \");\n    elements = this.handleNonArrays(elements);\n    elements.forEach(el => {\n      classNames.forEach(\n        className => el.classList.remove(className)\n      )\n    });\n  },\n\n  not(elements, criteria) {\n    elements = this.handleNonArrays(elements);\n    if (criteria instanceof HTMLElement) {\n      return elements.filter(el => el !== criteria);\n    }\n    if (typeof criteria === \"string\") {\n      const [, tagName, id, className] = this.matcher(criteria);\n      return elements.filter(\n        el => !this.isMatching(el, tagName, id, className)\n      );\n    }\n    return [];\n  },\n\n  attr(elements, key, value) {\n    elements = this.handleNonArrays(elements);\n    if (!value) return elements[0].getAttribute(key);\n    elements.forEach(el => el.setAttribute(key, value));\n  },\n\n  has(elements, query) {\n    elements = this.handleNonArrays(elements);\n    return elements.filter(\n        element => (\n          element.querySelectorAll(query).length > 0\n        )\n      )\n  },\n\n  onEvent(elements, event, handler, once) {\n    elements = this.handleNonArrays(elements);\n    const eventType = event.split(\".\")[0];\n    elements.forEach(element =>\n      {\n        element.addEventListener(eventType, handler, {once});\n        // attaches the event handler to the element so it can be refrenced later\n        element[this.EVENT_PREFIX + event] = handler;\n      }\n    );\n  },\n\n  on(elements, event, handler) {\n    this.onEvent(elements, event, handler, false);\n  },\n\n  one(elements, event, handler) {\n    this.onEvent(elements, event, handler, true);\n  },\n\n  off(elements, event) {\n    elements = this.handleNonArrays(elements);\n    const eventType = event.split(\".\")[0];\n    // removing the event listener with the custom Event Handler\n    elements.forEach(\n      element => {\n        element.removeEventListener(eventType, element[this.EVENT_PREFIX + event]);\n        delete element[this.EVENT_PREFIX + event];\n      }\n    );\n  },\n\n  trigger(elements, event, data) {\n    elements = this.handleNonArrays(elements);\n    elements.forEach(\n      element => {\n        if (element[this.EVENT_PREFIX + event])\n          element[this.EVENT_PREFIX + event]({target: element, data});\n      }\n    )\n  },\n\n  data(elements, dataKey, dataValue) {\n    elements = this.handleNonArrays(elements);\n    // if a value not given for data it\n    if (!dataKey) {\n      return elements.map(\n        element => element.dataset\n      );\n    }\n\n    if (!dataValue) {\n      return elements.map(\n        element => element.dataset[dataKey]\n      );\n    }\n\n    elements.forEach(\n      element => element.dataset[dataKey] = dataValue\n    );\n  },\n\n  removeData(elements, dataKey) {\n    elements = this.handleNonArrays(elements);\n    if (!dataKey) {\n      elements.map(element => \n        Object.keys(element.dataset).map(\n          key => delete element.dataset[key]\n        ).every(el => el)\n      ).every(el => el);\n      return true;\n    }\n    return elements.map(\n      element => delete element.dataset[dataKey]\n    ).every(el => el);\n  },\n\n  height(elements, newHeight) {\n    /**\n     * When this method is used to return height, it returns the height of the FIRST matched element.\n     * When this method is used to set height, it sets the height of ALL matched elements.\n     */\n    elements = this.handleNonArrays(elements);\n    if (!elements[0]) {\n      return;\n    }\n    if (newHeight) {\n      if (typeof newHeight !== \"string\") {\n        elements.forEach(\n          element => element.style.height = newHeight + \"px\"\n        )\n      } else {\n        elements.forEach(\n          element => element.style.height = newHeight\n        )\n      }\n      return this.height(elements);\n    }\n    // return height as a number\n    return Number(window.getComputedStyle(elements[0]).height.match(/\\d+/)[0]);\n  },\n  \n  css(elements, rule, value) {\n    elements = this.handleNonArrays(elements);\n    if (!elements.length) throw Error(\"No elements were given\");\n    if (!value) {\n      return window.getComputedStyle(elements[0])[rule];\n    }\n    elements.forEach(\n      element => element.style[rule] = value\n    );\n    return elements;\n  }\n};\n\nexport default Util;","import Util from './util';\n\nconst NAME = 'metisMenu';\nconst DATA_KEY = 'metisMenu';\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst DATA_API_KEY = '.data-api';\n// const TRANSITION_DURATION = 350;\n\nconst Default = {\n  toggle: true,\n  preventDefault: true,\n  triggerElement: 'a',\n  parentTrigger: 'li',\n  subMenu: 'ul',\n};\n\nconst Event = {\n  SHOW: `show${EVENT_KEY}`,\n  SHOWN: `shown${EVENT_KEY}`,\n  HIDE: `hide${EVENT_KEY}`,\n  HIDDEN: `hidden${EVENT_KEY}`,\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`,\n  // added this as an alternative to mmTransitionEnd\n  TRANSITION_END: `transitionend${EVENT_KEY}`,\n};\n\nconst ClassName = {\n  METIS: 'metismenu',\n  ACTIVE: 'mm-active',\n  SHOW: 'mm-show',\n  COLLAPSE: 'mm-collapse',\n  COLLAPSING: 'mm-collapsing',\n  COLLAPSED: 'mm-collapsed',\n};\n\nclass MetisMenu {\n  // eslint-disable-line no-shadow\n  constructor(element, config) {\n    this.element = element;\n    this.config = {\n      ...Default,\n      ...config,\n    };\n    this.transitioning = null;\n\n    this.init();\n  }\n\n  init() {\n    const self = this;\n    const conf = this.config;\n    const el = this.element;\n\n    Util.addClass(el, ClassName.METIS);\n\n    const ActiveEl = Util.find(\n      el,\n      `${conf.parentTrigger}.${ClassName.ACTIVE}`\n    );\n\n    Util.attr(\n      Util.find(\n        ActiveEl,\n        conf.triggerElement\n      ),\n      'aria-expanded',\n      'true'\n    );\n    \n    Util.addClass(\n      Util.parents(\n        ActiveEl,\n        \"li\"\n      ),\n      ClassName.ACTIVE\n    );\n\n    Util.attr(\n      Util.children(\n        Util.parents(\n          ActiveEl,\n          conf.parentTrigger\n        ),\n        conf.triggerElement\n      ),\n      \"aria-expanded\",\n      \"true\"\n    );\n\n    Util.addClass(\n      Util.children(\n        Util.has(\n          ActiveEl,\n          conf.subMenu\n        ),\n        conf.subMenu\n      ),\n      `${ClassName.COLLAPSE} ${ClassName.SHOW}`\n    );\n\n    Util.addClass(\n      Util.children(\n        Util.not(\n          Util.find(\n            el,\n            conf.parentTrigger\n          ),\n          `.${ClassName.ACTIVE}`\n        ),\n        conf.subMenu\n      ),\n      ClassName.COLLAPSE\n    );\n\n    Util.on(\n      Util.children(\n        Util.find(\n          el,\n          conf.parentTrigger\n        ),\n        conf.triggerElement\n      ),\n      Event.CLICK_DATA_API,\n      function (e) {\n        // eTar is eventTarget\n        const eTar = e.target;\n\n        if (Util.attr(eTar, 'aria-disabled') === 'true') {\n          return;\n        }\n\n        if (conf.preventDefault && Util.attr(eTar, 'href') === '#') {\n          e.preventDefault();\n        }\n\n        const paRent = Util.parent(eTar, conf.parentTrigger);\n        const sibLi = Util.siblings(paRent, conf.parentTrigger);\n        const sibTrigger = Util.children(sibLi, conf.triggerElement);\n\n        if (Util.hasClass(paRent, ClassName.ACTIVE)) {\n          Util.attr(eTar, 'aria-expanded', 'false');\n          self.removeActive(paRent);\n        } else {\n          Util.attr(eTar, 'aria-expanded', 'true');\n          self.setActive(paRent);\n          if (conf.toggle) {\n            self.removeActive(sibLi);\n            Util.attr(sibTrigger, 'aria-expanded', 'false');\n          }\n        }\n\n        if (conf.onTransitionStart) {\n          conf.onTransitionStart(e);\n        }\n      }\n    );\n  }\n\n  setActive(li) {\n    Util.addClass(li, ClassName.ACTIVE);\n    const ul = Util.children(li, this.config.subMenu);\n    if (ul.length > 0 && !Util.hasClass(ul, ClassName.SHOW)) {\n      this.show(ul);\n    }\n  }\n\n  removeActive(li) {\n    Util.removeClass(li, ClassName.ACTIVE);\n    const ul = Util.children(li, `${this.config.subMenu}.${ClassName.SHOW}`);\n    if (ul.length > 0) {\n      this.hide(ul);\n    }\n  }\n\n  show(element) {\n    if (this.transitioning || Util.hasClass(element, ClassName.COLLAPSING)) {\n      return;\n    }\n    const elem = element;\n\n    // todo\n    // const startEvent = $.Event(Event.SHOW);\n    // elem.trigger(startEvent);\n\n    // if (startEvent.isDefaultPrevented()) {\n    //   return;\n    // }\n\n    Util.addClass(\n      Util.parent(\n        elem,\n        this.config.parentTrigger\n      ),\n      ClassName.ACTIVE\n    );\n\n    // todo\n    if (this.config.toggle) {\n      const toggleElem = Util.children(\n        Util.siblings(\n          Util.parent(\n            elem,\n            this.config.parentTrigger\n          )\n        ),\n        `${this.config.subMenu}.${ClassName.SHOW}`\n      );\n      if (toggleElem.length > 0)\n        this.hide(toggleElem);\n    }\n\n    Util.removeClass(elem, ClassName.COLLAPSE);\n    Util.addClass(elem, ClassName.COLLAPSING);\n    Util.height(elem, 0);\n\n    this.setTransitioning(true);\n\n    const complete = () => {\n      // check if disposed\n      if (!this.config || !this.element) {\n        return;\n      }\n\n      Util.removeClass(elem, ClassName.COLLAPSING);\n      Util.addClass(elem, `${ClassName.COLLAPSE} ${ClassName.SHOW}`);\n      Util.height(elem, \"\");\n\n      this.setTransitioning(false);\n\n      // todo\n      // elem.trigger(Event.SHOWN);\n    };\n\n    Array.from(elem).forEach(el => el.style.height = elem[0].scrollHeight + \"px\");\n    Util.one(elem, Event.TRANSITION_END, complete);\n    \n    // todo for later\n    // elem.mmEmulateTransitionEnd(TRANSITION_DURATION);\n  }\n\n  hide(element) {\n    if (\n      this.transitioning ||!Util.hasClass(element, ClassName.SHOW)\n      // this.transitioning || !$(element).hasClass(ClassName.SHOW)\n    ) {\n      return;\n    }\n\n    const elem =element;\n\n    // todo\n    // const startEvent = $.Event(Event.HIDE);\n    // elem.trigger(startEvent);\n\n    // if (startEvent.isDefaultPrevented()) {\n    //   return;\n    // }\n\n    Util.removeClass(\n      Util.parent(\n        element,\n        this.config.parentTrigger\n      ),\n      ClassName.ACTIVE\n    );\n\n    // eslint-disable-next-line no-unused-expressions\n    // todo what the hell is this\n    // elem.height(elem.height())[0].offsetHeight;\n\n    Util.removeClass(element, ClassName.SHOW);\n    Util.removeClass(element, ClassName.COLLAPSE);\n    Util.addClass(element, ClassName.COLLAPSING);\n\n    this.setTransitioning(true);\n\n    const complete = () => {\n      // check if disposed\n      if (!this.config || !this.element) {\n        return;\n      }\n\n      if (this.transitioning && this.config.onTransitionEnd) {\n        this.config.onTransitionEnd();\n      }\n\n      this.setTransitioning(false);\n      // todo for later\n      // elem.trigger(Event.HIDDEN);\n\n      Util.removeClass(elem, ClassName.COLLAPSING);\n      Util.addClass(elem, ClassName.COLLAPSE);\n    };\n\n    if (Util.height(elem) === 0 || Util.css(elem, \"display\") === 'none') {\n      complete();\n    } else {\n\n      // todo rewrite the height method\n      Util.one(elem, Event.TRANSITION_END, complete);\n      Array.from(elem).forEach(el => el.style.height = \"0px\");\n      \n      // todo for later\n      // elem.mmEmulateTransitionEnd(TRANSITION_DURATION);\n    }\n  }\n\n  setTransitioning(isTransitioning) {\n    this.transitioning = isTransitioning;\n  }\n\n  dispose() {\n    Util.removeData(this.element, DATA_KEY);\n\n    Util.off(\n      Util.children(\n        Util.find(\n          this.element,\n          this.config.parentTrigger\n        ),\n        this.config.triggerElement\n      ),\n      Event.CLICK_DATA_API\n    );\n\n    this.transitioning = null;\n    this.config = null;\n    this.element = null;\n  }\n\n  static jQueryInterface(config) {\n    // eslint-disable-next-line func-names\n    return this.each(function () {\n      const $this = $(this);\n      let data = $this.data(DATA_KEY);\n      const conf = {\n        ...Default,\n        ...$this.data(),\n        ...(typeof config === 'object' && config ? config : {}),\n      };\n\n      if (!data) {\n        data = new MetisMenu(this, conf);\n        $this.data(DATA_KEY, data);\n      }\n\n      if (typeof config === 'string') {\n        if (data[config] === undefined) {\n          throw new Error(`No method named \"${config}\"`);\n        }\n        data[config]();\n      }\n    });\n  }\n}\n\nwindow.MetisMenu = MetisMenu;"]}